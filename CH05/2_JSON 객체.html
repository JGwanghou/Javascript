<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2_JSON 객체</title>
    <!--
        날짜 : 2022/10/07
        이름 : 조광호
        내용 : 자바스크립트 JSON 객체 실습하기

        JSON 객체
         - JavaScript Object Notation(자바스크립트 객체 표기법)
         - key-value 구조로 이루어지며 키는 반드시 큰따옴표 표기
         - JSON은 이기종간의 데이터 교환을 위한 표준 데이터 포맷
    -->
</head>
<body>
    <h3>JSON 객체</h3>
    <script>
        // JSON 객체
        let user = {
            "uid" : "a101",
            "name" : "김유신",
            "hp" : "010-1234-1001",
            "age" : 25
        };

        document.write('user : ' + user + '<br>');
        document.write('user 아이디 :' + user.uid + '<br>');
        document.write('user 이름 :' + user.name + '<br>');
        document.write('user 휴대폰 :' + user.hp + '<br>');
        document.write('user 나이 :' + user.age + '<br>');

        for(let key in user){

            document.write(key + ' : ' + user[key] + '<br>');
        }

        // JSON 객체배열
        let jsonData = {"users" : [
                       {"uid":"a101", "name":"김유신" , "age":25, "addr":"서울"},
                       {"uid":"a102", "name":"김춘추" , "age":35, "addr":"대전"},
                       {"uid":"a103", "name":"장보고" , "age":45, "addr":"대구"},
                       {"uid":"a104", "name":"강감찬" , "age":55, "addr":"부산"}, 
                       {"uid":"a105", "name":"이순신" , "age":65, "addr":"광주"}
                    ]};

        for(let user of jsonData.users){
            document.write('<p>');
            document.write('uid : ' + user.uid + '<br>');
            document.write('name : ' + user.name + '<br>');
            document.write('age : ' + user.age + '<br>');
            document.write('addr : ' + user.addr + '<br>');
            document.write('</p>');
        }

        // JSON -> 객체 문자열 변환
        let json = {"uid":"a101", "name":"김유신", "age":25};

        let att = JSON.stringify(json);
      //document.write('json : ' + json + '<br>');
        document.write('jsonStr: ' + att + '<br/>');

        // JSON 문자열 -> JSON 객체 변환
        let str = '{"uid":"a102", "name":"김춘추", "age":"23"}';
        let result = JSON.parse(str);
        document.write('str : ' + str + '<br>');
        document.write('result : ' + result + '<br>');
        document.write('result uid : ' + result.uid + '<br>');
    </script>
</body>
</html>